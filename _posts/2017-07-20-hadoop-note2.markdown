---
layout: post
title:  "hadoop权威指南(二)之关于MapReduce"
date:   2017-07-20 11:00:00 +0800
tag: hadoop
category: 2017年7月
description: "hadoop权威指南(二)之关于MapReduce"
keywords: hadoop,MapReduce,hadoop权威指南
type: coding
user: kevis
---

### 介绍：MapReduce是一种可用于数据处理的编程模型。hadoop可以运行各种语言版本的MapReduce程序。MapReduce是并行运行的，故优势在于处理大规模数据集。

## 使用unix工具分析数据

传统处理按行存储数据的工具是awk。
> awk命令  文件操作命令

为了加快传统处理速度，需要并行处理程序来进行数据分析，有两种方法：
- 最简单的方法:使用计算机上所有可用的硬件线程来处理。缺点:为每个线程分配的作业任务量不一样，所以总的运行时间取决于处理最长作业所需要的时间。
- 更好的办法：将输入的数据分成固定大小的块，然后每块分到各个进程去执行。优点：即使有一些进程可以处理更多的数据，我们也可以为它分配更多的数据。巧妙的合并各个独立进程的运行结果，比如取某个数据集某个字段的最大值，会将任务分配到多个进程，然后合并多个进程的运行结果，而这些运行结果是每个进程所分配的数据中最大值，最后再从这些结果中取最终的最大值。缺点：还是得受限于单台计算机的处理能力，一旦使用多台计算机，整个大环境的其他因素就会互相影响，最主要的两个因素是协调性和可靠性。

### 对上述方法二的缺点，hadoop很好的解决了这些问题。

## 使用hahadoop分析数据

为了充分利用hadoop提供的并行处理优势，需要将查询表示成MapRMapReduce作业。

### map和reduce
MapReduce任务过程分为两个阶段，每个阶段都以键值对作为输入和输出，其类型可任选，还需要写map函数和reduce函数。
map函数的输出经由MapReduce框架处理后，最后发送到reduce函数。这个处理过程基于键来对键值对进行排序和分组。

### Java MapReduce
MapReduce程序需要实现map函数，reduce函数和运行程序作业的代码。map函数由Mapper类实现来表示，后者声明一个map()虚方法


